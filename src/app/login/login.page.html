<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Log in</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Log in</ion-title>
    </ion-toolbar>
  </ion-header>

  <form #signInForm="ngForm" (ngSubmit)="auth.signIn(emailInput.value, passwordInput.value)" novalidate>
    <ion-item lines="full">
      <ion-input 
          label="Email" 
          type="email" 
          placeholder="email@domain.com" 
          [ngClass]="{'ion-invalid': !emailInput.valid && emailInput.touched}"
          helper-text="Enter email address" 
          labelPlacement="floating" 
          #emailInput
          ngModel
          name="email"
          required
          [email]="true"
        ></ion-input>
        <div class="error-message" *ngIf="emailInput.invalid && emailInput.touched">
          <div *ngIf="emailInput.errors.required">Email is required.</div>
          <div *ngIf="emailInput.errors.email">Email is invalid.</div>
        </div>
    </ion-item>

    <ion-item lines="full">
      <ion-input 
          label="Password" 
          type="password" 
          placeholder="**********" 
          helper-text="Enter password" 
          labelPlacement="floating" 
          #passwordInput
          ngModel
          name="password"
          required
        ></ion-input>
    </ion-item>

    <ion-row>
      <ion-col>  
        <small>
          <p *ngIf="auth.errorMessage" class="error-message">{{ auth.errorMessage }}</p> 
          <ion-button type="submit" color="primary" expand="block" [disabled]="!signInForm.valid">Sign In</ion-button>
          <a [routerLink]="['/forgot-password']" class="small-text">Forgot Password?</a><br>
          Don't have an account? <a [routerLink]="['/registration']" expand="block" color="primary">Sign up</a><br>
          Do you need to verify your email? <a [routerLink]="['/registration']" expand="block" color="primary">Verify email</a><br>
        </small>
      </ion-col>
    </ion-row>

  </form>
</ion-content>
